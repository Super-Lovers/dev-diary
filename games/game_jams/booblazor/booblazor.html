<!DOCTYPE html><html lang="en"><head>
    <title>Nikolay&apos;s Games and Dev. Diary</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#5373F4">

    <!-- Primary Meta Tags -->
    <meta name="author" content="Nikolay Vaskov Ivanov">
    <meta name="title" content="Nikolay&apos;s Games and Dev. Diary">
    <meta name="description" content="A Developer diary and games that I helped develop throughout my career. I write about game development, tooling, and other software that I worked with.">

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="Nikolay&apos;s Games and Dev. Diary">
    <meta property="og:site_name" content="Nikolay&apos;s Games and Dev. Diary">
    <meta property="og:url" content="https://nikolayivanov.onrender.com/">
    <meta property="og:description" content="A Developer diary and games that I helped develop throughout my career. I write about game development, tooling, and other software that I worked with.">
    <meta property="og:type" content="website">
    <meta property="og:image:width" content="300">
    <meta property="og:image:height" content="300">
    <meta class="link" property="og:image" content="images/niko_anim.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@Nikolay64625418">
    <meta name="twitter:title" content="Nikolay&apos;s Games and Dev. Diary">
    <meta name="twitter:description" content="A Developer diary and games that I helped develop throughout my career. I write about game development, tooling, and other software that I worked with.">
    <meta class="link" property="twitter:image" content="images/niko_anim.png">

    <!-- Favicons -->
    <link class="link" rel="apple-touch-icon" sizes="180x180" href="../../../favicons/apple-touch-icon.png">
    <link class="link" rel="icon" type="image/png" sizes="32x32" href="../../../favicons/favicon-32x32.png">
    <link class="link" rel="icon" type="image/png" sizes="16x16" href="../../../favicons/favicon-16x16.png">
    <link class="link" rel="manifest" href="../../../favicons/site.webmanifest">
    <link class="link" rel="shortcut icon" href="../../../favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta class="link" name="msapplication-config" content="favicons/browserconfig.xml">

    <!-- Main References -->
    <link rel="stylesheet" class="link" href="../../../styles/lib/atelier-seaside-dark.min.css">
    <link rel="stylesheet" class="link" href="../../../styles/styles.min.css">
    <link rel="stylesheet" class="link" href="../../../styles/game.min.css">
    <link rel="stylesheet" class="link" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" class="link" href="../../../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" class="link" href="../../../styles/lib/imagehover.min.css">
    <link rel="stylesheet" class="link" href="../../../node_modules/plyr/dist/plyr.css">
    <!-- <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="Sat, 12 Oct 1991 05:00:00 GMT"> -->
</head>

<body>
    <div class="container">
        <div class="row">

            <div class="col-xl-4 col-lg-12 aside custom-col">
                <div class="header text-center card-group">
                    <figure class="imghvr-fade-in-up rounded-lg" style="background-color:#ffffff;">
                        <img class="portrait card-img-top link rounded-lg" src="../../../images/dontlook.png" alt="Custom portrait of the site&apos;s owner">
                        <video class="link portrait-video" src="../../../images/niko_anim.mp4" autoplay loop></video>
                        <figcaption style="background-color: #2f4f4f;">
                            <h2>Nikolay Vaskov Ivanov</h2>
                            <p class="portrait-description">Born in 3rd of march, 1998 in the Bulgarian city Pazardzhik, I studied in the school
                                &quot;Prof. Ivan Batakliev&quot; until 8th grade and completed the specialty
                                &quot;System Programming&quot; when I graduated 12th grade. Currently studying for a
                                Bachelor&apos;s degree in the Netherlands.</p>
                        </figcaption>
                    </figure>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-1"><a rel="noopener" aria-label="My github" target="_blank" href="https://github.com/Super-Lovers">
                                    <i class="fab fa-github-alt"></i></a></div>
                            <div class="col-1"><a rel="noopener" aria-label="My linkedin" target="_blank" href="https://www.linkedin.com/in/nikolay-ivanov-301346182/">
                                    <i class="fab fa-linkedin-in"></i></a></div>
                            <div class="col-1"><a rel="noopener" aria-label="itch.io profile" target="_blank" href="https://back-body-hurts.itch.io/">
                                    <i class="fab fa-itch-io"></i></a>
                            </div>
                            <div class="col-1"><a aria-label="My email" href="mailto:n.v.ivanov@st.hanze.nl">
                                    <i class="fas fa-envelope"></i></a>
                            </div>
                            <div class="col-1"><a class="link" aria-label="humans.txt file" rel="noopener" target="_blank" href="../../..//humans.txt">
                                <i class="fas fa-hammer"></i></a>
                            </div>
                            <div class="col-7"></div>
                        </div>
                        <p>Student in Game Design and Development
                            at Hanze University of Applied Sciences in Groningen, previously Game Programmer intern at &amp;ranj.</p>
                        <audio id="audio-player" loop>
                            <source class="link" src="../../../audio/Our_Signal.mp3" type="audio/mp3">
                        </audio>
                    </div>

                </div>

                <hr class="style14">

                <div class="fortune rounded-sm row">
                    <div class="col-md-2 col-sm-12">
                        <img class="link align-middle" src="../../../images/fortune_cookie.png" alt="fortune cookie">
                    </div>
                    <div class="col-md-10 col-sm-12">
                        <p class=" align-middle fortune-text"></p>
                        <i class="fas fa-quote-right"></i>
                    </div>
                </div>

                <hr class="style14">

                <div class="posts-container">
                    <div>
                        <a class="link" href="../../../index.html">
                            <h6><b><em><i class="fas fa-home"></i> Home <i></i></em></b></h6>
                        </a>
                        <a class="link" href="../../../portfolio.html">
                            <h6><b><em><i class="fas fa-chess-queen"></i> Games <i class="fas fa-caret-left"></i></em></b></h6>
                        </a>
                        <a target="_blank" class="link" href="../../../images/resume.pdf">
                            <h6><b><em><i class="fas fa-user"></i> Resume <i></i></em></b></h6>
                        </a>
                        <a rel="noopener" target="_blank" href="http://users4.smartgb.com/g/g.php?a=s&amp;i=g44-80382-01">
                            <h6><b><em><i class="fas fa-pen-alt"></i> Sign my Guestbook <i></i></em></b></h6>
                        </a>
                        <a id="themeToggle" href="#!">
                            <h6><b><em><i class="fas fa-moon"></i> Switch to dark theme <i></i></em></b></h6>
                        </a>
                    </div>
                    <div>
                        <h6>Posts Archive</h6>
                        <ul class="archive"><li>Lifestyle<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2020</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Lifestyle/2020/April/My%20work-life%20balance.html"><b>My work-life balance</b></a>    </li></ul></li></ul></li><li>Lua<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2020</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Lua/2020/June/Lua%20and%20Love2d.html"><b>Lua and Love2d</b></a>    </li></ul></li></ul></li><li>Other<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2020</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Other/2020/July/Creating%20a%20discord%20bot.html"><b>Creating a discord bot</b></a>    </li><li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Other/2020/October/Wallpaper%20creator%20&amp;%20Candles%20update.html"><b>Wallpaper creator &amp; Candles update</b></a>    </li><li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Other/2020/September/Rainy%20Day%20and%20slbms.js%20update.html"><b>Rainy Day and slbms.js update</b></a>    </li></ul></li></ul></li><li>Twine<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2020</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Twine/2020/August/Working%20with%20Twine,%20Sugarcube%202.html"><b>Working with Twine, Sugarcube 2</b></a>    </li></ul></li></ul></li><li>Unity3D<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2019</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Unity3D/2019/November/Narrative-development%20tooling.html"><b>Narrative-development tooling</b></a>    </li></ul></li></ul></li><li>Web<ul><li class="year"><span class="yearLabel"><i class="fas fa-caret-right"></i> 2020</span>    <ul>    <li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Web/2020/February/Bookmarks%20viewer%20CLI.html"><b>Bookmarks viewer CLI</b></a>    </li><li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Web/2020/January/Light%20posts%20generator.html"><b>Light posts generator</b></a>    </li><li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Web/2020/July/Learning%20Electronjs.html"><b>Learning Electronjs</b></a>    </li><li><i class="fas fa-align-left"></i> <a class="archive-link" href="../../../../dom/Web/2020/July/Wallpaper%20creation%20tool.html"><b>Wallpaper creation tool</b></a>    </li></ul></li></ul></li></ul>
                    </div>
                </div>
            </div>
            <div class="col-12 custom-col" style="max-width:740px">
                <main class="container-fluid game">
                    <header class="container-fluid">
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <h3>Nikolay&apos;s Games</h3>
                            </div>
                        </div>
                        <p>Below, you will find some of the games that I have worked on during my <u>free time</u> and a few others created during my <u>studies</u>. Aside from that, I have also worked on games at
                            &amp;ranj where I interned for five months but they will not be displayed publicly. The
                            <u>source code</u> for all games can be found on my <a href="https://github.com/Super-Lovers">Github <i class="fab fa-github-alt"></i></a>.</p>
                        <p>This portfolio is strictly for game development. Web development or other projects
                            that I have done can only be found on my Github or by asking me personally. Games I have worked
                            on were made using <u>Unity3D</u>, <u>Phaser v2/3</u>, <u>CreateJS</u>, <u>Love2D</u> and <u>Twine</u>. The page of each game discusses some development aspects of it and talks about the choices I made, or didn&apos;t. <u>If you want to try each game, there&apos;s a link at the top of each game&apos;s page.</u></p>
                    </header>
                    <hr class="style14">
                <div><h3>Booblazor</h3>
<h5>Uploaded on 11th September, 2020. <em style="font-size:15px;color:lightslategray;"><i class="fas fa-hourglass-half"></i> Read time: 14m</em></h5>

<p><span class="game-link"><i class="fas fa-link"></i> Game Page: <a href="https://back-body-hurts.itch.io/booblazor">https://back-body-hurts.itch.io/booblazor</a></span></p>
<p class="description"><span class="drop">B</span>oobLazor was created for the 42 hour 2020 boob jam meant to support the prevention of breast cancer. You play as a robot injected into the breast of a patient with the goal of destroying the cancer cells using a lazer gun before they replicate and manifest it. The game was further developped completed after the initial 42 hours since I wanted to create the game in Love2D, with which I had no prior experience and I was learning in the go. Because of this, much of the code is experimentation or improvisation due to time limitations. I worked on the project even after the game jam in order to thoroughly complete the game from start to finish. Since Love2D doesn&apos;t have a lot of the nice things game engines like Unity3D do, I spent more time programming and testing them (drawing menus that scale, collisions, camera/world offset, animations and so on). I&apos;ll focus on the topic of gameplay, since drawing UI and dialogue isn&apos;t as much fun. In order to generate the world and store all the objects&apos; information in it, I used one global world object. This world object is really useful for making all sorts of functionality like testing collision, detection of nearby entities, boundaries and so on:</p>
<pre class="shadow-sm code-block"><code class="lua language-lua">world.map = {}
world.mapWidth = 32 -- width of map in tiles
world.mapHeight = 32 -- height of map in tiles

world.tileSizeX = 128 -- Manually calculated, 8x8 tiles on screen
world.tileSizeY = 128 -- Manually calculated, 8x8 tiles on screen

-- List of all the entities in the world
world.entities = {}
world.spawners = {}

-- Setting the number of rows in the map table
for x = 1, world.mapWidth do
    world.map[x] = {}
end

-- Setting the default map tile
for x = 1, world.mapWidth do
    for y = 1, world.mapHeight do
        -- 0 = safe
        -- 1 = corrupted
        -- 2 = transitioning
        local tile = Tile(x, y, &quot;safe&quot;)
        tile.worldX = x * world.tileSizeX
        tile.worldY = y * world.tileSizeY
        world.map[x][y] = tile
    end
end
</code></pre>
<p>Then, when we have all the tiles on the map, we have to generate all the evil cancer cell spawners that are responsible for creating new cancer cells for the player to fight. They spawn on the first corrupted cells on the map and the job of cancer cells is to corrupt safe cells and replicate to increase the speed of the corruption process:</p>
<pre class="shadow-sm code-block"><code class="lua language-lua">-- This makes sure the spawners dont spawn
-- on the edge of the screen.
local paddingTiles = 1

for x = 1, world.mapWidth do
    for y = 1, world.mapHeight do
        if x &lt; world.mapWidth - paddingTiles and
            y &lt; world.mapHeight - paddingTiles then
            local choice = lume.weightedchoice({
                    [&quot;corrupted&quot;] = 3,
                    [&quot;safe&quot;] = 97
                })

            if choice == &quot;corrupted&quot; then
                local tile = Tile(x, y, &quot;safe&quot;)
                world.map[x][y] = tile

                local spawner = Spawner(#world.spawners + 1, x, y)
                spawner.worldX = x * world.tileSizeX
                spawner.worldY = y * world.tileSizeY
                table.insert(world.spawners, spawner)
            end
        end
    end
end
</code></pre>
<p>Finally, each tile on the map is dynamic, meaning that depending on the entity sitting on top of it or not, the tile will change. Every second, all the tiles on the map tick in order to slowly decay the corruption as if the human&apos;s system is fighting the cancer. Tiles which cancer cells haven&apos;t reached will be clean while the rest are corrupted:</p>
<p style="text-align: center;"><img class="img-fluid" src="../../../games-imgcompressed/game_jams/booblazor/images/tiles.png" alt="A pictures of how the tiles look with the entities on them"></p>
<pre class="shadow-sm code-block"><code class="lua language-lua">function Tile:new(x, y, type)
    self.x = x or 0
    self.y = y or 0
    self.worldX = 0
    self.worldY = 0

    self.type = type

    self.totalCorruptionDecayDelay = math.random(20) + 30
    self.currentCorruptionDecay = self.totalCorruptionDecayDelay
end

function Tile:tickCorruption()
    if self.type == &quot;corrupted&quot; then
        if self.currentCorruptionDecay &lt;= 0 then
            self.type = &quot;safe&quot;
            self.currentCorruptionDecay = self.totalCorruptionDecayDelay - 1
        elseif self.currentCorruptionDecay &gt; 0 then
            self.currentCorruptionDecay = self.currentCorruptionDecay - 1
        end
    end
end
</code></pre>
<p>Obviously, this decay is really slow and won&apos;t help much otherwise the player won&apos;t really have a challenge in the game. That&apos;s all there is to the world generation. We stuck to a simpler game for this game jam since we were not sure if 42 hours were good enough for anything more complex. All entities on the map inherit from the Entity object/class which contains all the base characteristics for each entity and each entity has its own class which extends or defines new characteristics:</p>
<pre class="shadow-sm code-block"><code class="lua language-lua">-- Role is the type of entity it is (Player, Cancer cell)
function Entity:new(x, y, role)
    self.x = x or 0
    self.y = y or 0
    self.worldX = 0 -- Used for getting a more accurate position on the world
    self.worldY = 0 -- ^ useful for collisions and such

    self.role = role
    self.hitpoints = 10

    self.movementSpeed = 1000
    self.speedMultiplier = 0.01
end
</code></pre>
<p>All entities on the game take damage when hit, so they share the same method, but each entity has some modifications to it for screen shake or playing a &quot;hurt&quot; sound or for adding a hit shield delay so that you don&apos;t take damage thousands of times at a time:</p>
<video src="../../../games/game_jams/booblazor/images/player_taking_damage.mp4" controls autoplay loop style="display: block;"></video>
<pre class="shadow-sm code-block"><code class="lua language-lua">function Player:takeDamage(damage)
    if self.currentTakeDamageRate &lt;= 0 then
        Player.super.takeDamage(self, damage)

        screen:setShake(20)

        hitPlayer:play();
        self.currentTakeDamageRate = self.takeDamageRate
    end
end
</code></pre>
<p>Since we only had 42 hours and I had little experience with Lua and Love2D, I resorted to using some third-party libraries for screen shake, dialogue, classes, switching between scenes and so on. Whenever an entity is killed, it creates a &quot;death animation&quot; object of itself on the same position it died and it plays that animation, then destroys it when its finished. That was kind of the easiest way I thought of having death animations show up. Otherwise the entity code would have become huge and separating them made it easier for me to manage:</p>
<pre class="shadow-sm code-block"><code class="lua language-lua">function DeathAnimation:new(id, worldX, worldY)
    self.id = id
    self.worldX = worldX or 0
    self.worldY = worldY or 0

    self.currentSprite = bloodFrames[1]
    self.currentSpriteIndex = 1
    self.atlas = enemyBloodAnimationAtlas

    self.fps = 0.05
    self.currentFps = self.fps
    self.scheduleToKill = false
end
</code></pre>
<p>Compared to some game engines that use an interface and its own filesystem, Love2D needs you to manually load all graphics, quads and audio files when the game starts. This makes organization of your files really important because if you&apos;re not vigilant, you or other people working on the game can get lost in search of specific files. The way you load files is in objects with all related sprites inside, so that you can access each sprite by key names, or if its an animation sprite sheet then you load all the quads in one array:</p>
<pre class="shadow-sm code-block"><code class="lua language-lua">spawnerSprites = {}
spawnerSprites[1] = love.graphics.newQuad(0, 0, 256, 256, enemyBig2Atlas:getDimensions())
spawnerSprites[2] = love.graphics.newQuad(257, 0, 256, 256, enemyBig2Atlas:getDimensions())
</code></pre>
<p>That&apos;s mostly what the gameplay is about, collisions or boundary checks aren&apos;t as interesting to discuss so I&apos;m skipping those parts, but if you want to see all the code, look it up on my GitHub!</p>
<div class="credits">
  <p>... project created by</p>

<div class="card-deck">
  <div class="card">
    <div class="icon">
      <i class="profession-icon fas fa-code"></i>
    </div>
    <div class="card-body">
      <h5 class="card-title">Nikolay Ivanov</h5>
      <p class="card-text">Programmer for the whole project and also helped design it.</p>
    </div>
  </div>
  <div class="card">
    <div class="icon">
      <i class="profession-icon fas fa-palette"></i>
    </div>
    <div class="card-body">
      <h5 class="card-title">Roger Recaldini</h5>
      <p class="card-text">Responsible for all of the visual assets of the game and also worked on the design.</p>
    </div>
  </div>
</div>
</div></div></main>
                <hr class="style14">
                <footer>
                    <div>
                        <p style="text-align: center;">
                            <a rel="noopener" target="_blank" title="Link to the loving and talented artist who made my portrait art!" href="https://www.artstation.com/wogew">
                                <img class="link footer-icon" src="../../../images/cat.gif" alt="Link to the loving and talented artist who made my portrait art!">
                            </a>
                    </p></div>
                    <div>
                        <p style="text-align: center;">
                            <a rel="noopener" target="_blank" href="https://validator.w3.org/check?uri=referer"><img class="footer-icon" src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="27" width="78"></a>
                        </p>
                    </div>
                    <div>
                        <p style="text-align: center;">
                            <a rel="noopener" target="_blank" href="https://jigsaw.w3.org/css-validator/check/referer">
                                <img class="footer-icon" style="border:0;width:78px;height:27px" src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!">
                            </a>
                        </p>
                    </div>
                    <div>Made by Nikolay</div>
                </footer>
            </div>
        </div>
    </div>
    
    <!-- <audio id="audioPlayer" class="link" loop src="audio/Our_Signal.mp3"></audio> -->
    <script class="link" src="../../../node_modules/jquery/dist/jquery.min.js"></script>
    <script class="link" src="../../../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script class="link" src="../../../scripts/lib/highlight.pack.js"></script>
    <!-- <script class="link" src="scripts/audio.min.js"></script> -->
    <script class="link" src="../../../scripts/fortune-cookie.min.js"></script>
    <script class="link" src="../../../node_modules/plyr/dist/plyr.min.js"></script>
    <script class="link" src="../../../scripts/main.min.js"></script>
    <script class="link" src="../../../scripts/theme.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>









</body></html>